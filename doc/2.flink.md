# 1. 安装zookeeper

```shell
# 下载
wget https://mirrors.tuna.tsinghua.edu.cn/apache/zookeeper/zookeeper-3.4.14/zookeeper-3.4.14.tar.gz
# 解压
tar -zxvf apache-zookeeper-3.4.14.tar.gz
# 重命名
mv apache-zookeeper-3.4.14.tar.gz zookeeper-3.4.14
# 重命名配置文件
cd zookeeper-3.4.14
cd conf
cp zoo_sample.cfg zoo.cfg
vi zoo.cfg
# 单机模式只修改数据存储目录, 其他默认
dataDir=/deploy/zookeeper_data
# 配置环境变量
vi /etc/profile
# 快捷键shift+g移到文件末尾
# 添加zk环境变量
ZK_HOME=/deploy/zookeeper-3.4.14
PATH=$ZK_HOME/bin:$PATH
# 启动(使用zkServer.sh start-foreground可以查看启动日志)(3.5.5启动提示找不到主类)
zkServer.sh start

```

# 2. 安装kafka

```shell
# 下载
wget http://mirrors.tuna.tsinghua.edu.cn/apache/kafka/2.2.0/kafka_2.11-2.2.0.tgz
# 解压
tar -zxvf kafka_2.11-2.2.0.tgz
# 进入目录修改配置
cd kafka_2.11-2.2.0/config
vi server.properties
# 修改配置(其他保持默认,默认连接本机2181端口zookeeper) 
log.dirs=/deploy/kafka_log
# 启动
# 进入bin目录
./kafka-server-start.sh ../config/server.properties
# 命令创建主题
./kafka-topics.sh --create --zookeeper 127.0.0.1:2181 --partitions 1 --replication-factor 1 --topic testTopic
# 生产者
./kafka-console-producer.sh --broker-list 127.0.0.1:9092 --topic testTopic
# 消费者
./kafka-console-consumer.sh --bootstrap-server 127.0.0.1:9092 --topic testTopic

```

